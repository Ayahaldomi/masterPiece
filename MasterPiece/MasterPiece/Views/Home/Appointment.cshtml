

<style>
    @@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap');

    :root {
        /*--primary: #6b59d3;*/
        --secondary: #bfc0c0;
        --white: #fff;
        --text-clr: #5b6475;
        --header-clr: #25273d;
        --next-btn-hover: #5196b1;
        --back-btn-hover: #8b8c8c;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        list-style: none;
        outline: none;
        font-family: 'Open Sans', sans-serif;
    }

    body {
        background: #f4fffe;
        color: var(--text-clr);
        font-size: 16px;
        position: relative;
    }

    .wrapper {
        width: 750px;
        max-width: 100%;
        background: var(--white);
        margin: 50px auto 0;
        padding: 50px;
        border-radius: 5px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* Added box-shadow */
    }

        .wrapper .header {
            margin-bottom: 35px;
            display: flex;
            justify-content: center;
        }

            .wrapper .header ul {
                display: flex;
            }

                .wrapper .header ul li {
                    margin-right: 50px;
                    position: relative;
                }

                    .wrapper .header ul li:last-child {
                        margin-right: 0;
                    }

                    .wrapper .header ul li:before {
                        content: "";
                        position: absolute;
                        top: 50%;
                        transform: translateY(-252%);
                        left: 55px;
                        width: 100%;
                        height: 2px;
                        background: var(--secondary);
                    }

                    .wrapper .header ul li:last-child:before {
                        display: none;
                    }

                    .wrapper .header ul li div {
                        padding: 5px;
                        border-radius: 50%;
                    }

                    .wrapper .header ul li p {
                        width: 50px;
                        height: 50px;
                        background: var(--secondary);
                        color: var(--white);
                        text-align: center;
                        line-height: 50px;
                        border-radius: 50%;
                    }

                    .wrapper .header ul li.active:before {
                        background: var(--primary);
                    }

                    .wrapper .header ul li.active p {
                        background: var(--primary);
                    }

        .wrapper .form_wrap {
            margin-bottom: 35px;
        }

            .wrapper .form_wrap h2 {
                color: var(--header-clr);
                text-align: center;
                text-transform: uppercase;
                margin-bottom: 20px;
            }

            .wrapper .form_wrap .input_wrap {
                width: 490px;
                max-width: 100%;
                margin: 0 auto 20px;
            }

                .wrapper .form_wrap .input_wrap:last-child {
                    margin-bottom: 0;
                }

                .wrapper .form_wrap .input_wrap label {
                    display: block;
                    margin-bottom: 5px;
                }

                .wrapper .form_wrap .input_wrap .input {
                    border: 2px solid var(--secondary);
                    border-radius: 3px;
                    padding: 10px;
                    display: block;
                    width: 100%;
                    font-size: 16px;
                    transition: 0.5s ease;
                }

                    .wrapper .form_wrap .input_wrap .input:focus {
                        border-color: var(--primary);
                    }

        .wrapper .btns_wrap {
            width: 350px;
            max-width: 100%;
            margin: 0 auto;
        }

            .wrapper .btns_wrap .common_btns {
                display: flex;
                justify-content: space-between;
            }

                .wrapper .btns_wrap .common_btns.form_1_btns {
                    justify-content: flex-end;
                }

                .wrapper .btns_wrap .common_btns button {
                    border: 0;
                    padding: 12px 15px;
                    background: var(--primary);
                    color: var(--white);
                    width: 135px;
                    justify-content: center;
                    display: flex;
                    align-items: center;
                    font-size: 16px;
                    border-radius: 3px;
                    transition: 0.5s ease;
                    cursor: pointer;
                }

                    .wrapper .btns_wrap .common_btns button.btn_back {
                        background: var(--secondary);
                    }

                    .wrapper .btns_wrap .common_btns button.btn_next .icon {
                        display: flex;
                        margin-left: 10px;
                    }

                    .wrapper .btns_wrap .common_btns button.btn_back .icon {
                        display: flex;
                        margin-right: 10px;
                    }

                    .wrapper .btns_wrap .common_btns button.btn_next:hover,
                    .wrapper .btns_wrap .common_btns button.btn_done:hover {
                        background: var(--next-btn-hover);
                    }

                    .wrapper .btns_wrap .common_btns button.btn_back:hover {
                        background: var(--back-btn-hover);
                    }

    .modal_wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        visibility: hidden;
    }

        .modal_wrapper .shadow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            opacity: 0;
            transition: 0.2s ease;
        }

        .modal_wrapper .success_wrap {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-800px);
            background: var(--white);
            padding: 50px;
            display: flex;
            align-items: center;
            border-radius: 5px;
            transition: 0.5s ease;
        }

            .modal_wrapper .success_wrap .modal_icon {
                margin-right: 20px;
                width: 50px;
                height: 50px;
                background: var(--primary);
                color: var(--white);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 32px;
                font-weight: 700;
            }

        .modal_wrapper.active {
            visibility: visible;
        }

            .modal_wrapper.active .shadow {
                opacity: 1;
            }

            .modal_wrapper.active .success_wrap {
                transform: translate(-50%,-50%);
            }











    /* Dropdown container */
    .dropdown {
        width: 490px;
        max-width: 100%;
        margin: 0 auto 20px;
    }

    /* Style the search box */
    .search-box {
        border: 2px solid var(--secondary);
        border-radius: 3px;
        padding: 10px;
        display: block;
        width: 100%;
        font-size: 16px;
        transition: 0.5s ease;
    }

    /* The container for the dropdown items */
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: white;
        min-width: 100%;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
        z-index: 1;
        max-height: 200px;
        overflow-y: auto; /* Scroll when dropdown exceeds height */
        border: 1px solid #ddd;
    }

        /* Links inside the dropdown */
        .dropdown-content a {
            color: black;
            padding: 12px;
            text-decoration: none;
            display: block;
        }

            /* Highlight the search result links when hovered */
            .dropdown-content a:hover {
                background-color: #f1f1f1;
            }

    /* Show the dropdown */
    .dropdown:hover .dropdown-content {
        display: block;
    }

    /* Table styles */
    .test-table {
        width: 75%;
        margin: 20px auto;
        border-collapse: collapse;
        border: 1px solid #ddd;
    }

        .test-table th, .test-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .test-table th {
            background-color: #f4f4f4;
        }

        /* Style the Total Price Row */
        .test-table tfoot th {
            font-weight: bold;
            background-color: #f4f4f4;
        }
    /* Style the Remove button */
    .remove-btn {
        background-color: #ff4d4d;
        color: white;
        padding: 5px 10px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

        .remove-btn:hover {
            background-color: #ff3333;
        }
</style>


<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>

<div class="wrapper">
    <div class="header">
        <ul>
            <li class="active form_1_progessbar">
                <div>
                    <p>1</p>
                </div>
            </li>
            <li class="form_2_progessbar">
                <div>
                    <p>2</p>
                </div>
            </li>
            <li class="form_3_progessbar">
                <div>
                    <p>3</p>
                </div>
            </li>
            <li class="form_4_progessbar">
                <div>
                    <p>4</p>
                </div>
            </li>
        </ul>
    </div>
    <div class="form_wrap">
        <div class="form_1 data_info">
            <h2>Personal Information</h2>

            <div class="form_container">
                <div class="input_wrap">
                    <label for="email">Full Name</label>
                    <input type="text" name="Email Address" class="input" id="email">
                </div>
                <div class="input_wrap">
                    <label for="password">Date of Birth</label>
                    <input type="date" name="password" class="input" id="password">
                </div>
                <div class="input_wrap">
                    <label for="confirm_password">Gender</label>
                    @*<input type="password" name="confirm password" class="input" id="confirm_password">*@
                    <select class="input" id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
            </div>

        </div>
        <div class="form_2 data_info" style="display: none;">
            <h2>Contact Information</h2>

            <div class="form_container">
                <div class="input_wrap">
                    <label for="user_name">Email Address</label>
                    <input type="email" name="User Name" class="input" id="user_name">
                </div>
                <div class="input_wrap">
                    <label for="first_name">Phone Number</label>
                    <input type="number" name="First Name" class="input" id="first_name">
                </div>
                <div class="input_wrap">
                    <label for="last_name">Home Address</label>
                    <input type="text" name="Last Name" class="input" id="last_name">
                </div>
            </div>

        </div>
        <div class="form_3 data_info" style="display: none;">
            <h2>Appointment Date And Tests</h2>

            <div class="form_container">
                <div class="input_wrap">
                    <label for="user_name">Preferred Date and Time</label>
                    <input type="date" name="User Name" class="input" id="preferred_date" min="">
                </div>
                <div class="dropdown">
                    <input type="text" placeholder="Search.." id="searchInput" onkeyup="filterFunction()" class="search-box">
                    <div id="dropdownItems" class="dropdown-content">
                        <a href="#" data-price="50" onclick="addTestToTable('CBC', 8)">CBC</a>
                        <a href="#" data-price="100" onclick="addTestToTable('TSH', 10)">TSH</a>
                        <a href="#" data-price="20" onclick="addTestToTable('Urine Analysis', 4)">Urine Analysis</a>
                        <a href="#" data-price="150" onclick="addTestToTable('Iron', 5)">Iron</a>
                        <a href="#" data-price="200" onclick="addTestToTable('Fasting Blood Suger', 4)">Fasting Blood Suger</a>
                        <a href="#" data-price="80" onclick="addTestToTable('H1AC', 10)">H1AC</a>
                    </div>
                </div>

                <!-- Table to display selected tests -->
                <table id="selectedTestsTable" class="test-table">
                    <thead>
                        <tr>
                            <th>Test Name</th>
                            <th>Price ($)</th>
                            <th>Action</th> <!-- New "Action" column for remove button -->
                        </tr>
                    </thead>
                    <tbody id="testTableBody">
                        <!-- Selected tests will appear here -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <th>Total</th>
                            <th id="totalPrice">$0</th>
                            <th></th> <!-- Empty cell for alignment -->
                        </tr>
                    </tfoot>
                </table>



            </div>

        </div>
        <div class="form_4 data_info" style="display: none;">
            <h2 class="text-center mb-4">Payment Method</h2>

            <div class="form_container">
                <div class="form-group">

                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="paymentMethod" id="cash" value="Cash" onclick="togglePaymentDetails(false)" checked>
                        <label class="form-check-label" for="cash">Cash</label>
                    </div>

                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="paymentMethod" id="paypal" value="PayPal" onclick="togglePaymentDetails(true)">
                        <label class="form-check-label" for="paypal">PayPal</label>
                    </div>
                </div>

                <!-- PayPal-specific details (hidden initially) -->
                <div class="form-group" id="paypalDetails" style="display: none;">
                    <label for="paypalEmail" class="form-label">PayPal Email</label>
                    <input type="email" name="paypalEmail" class="form-control" id="paypalEmail" placeholder="Enter your PayPal email">
                </div>
            </div>
        </div>


    </div>
    <div class="btns_wrap">
        <div class="common_btns form_1_btns">
            <button type="button" class="btn_next">Next <span class="icon"><ion-icon name="arrow-forward-sharp"></ion-icon></span></button>
        </div>
        <div class="common_btns form_2_btns" style="display: none;">
            <button type="button" class="btn_back"><span class="icon"><ion-icon name="arrow-back-sharp"></ion-icon></span>Back</button>
            <button type="button" class="btn_next">Next <span class="icon"><ion-icon name="arrow-forward-sharp"></ion-icon></span></button>
        </div>
        <div class="common_btns form_3_btns" style="display: none;">
            <button type="button" class="btn_back"><span class="icon"><ion-icon name="arrow-back-sharp"></ion-icon></span>Back</button>
            <button type="button" class="btn_next">Next <span class="icon"><ion-icon name="arrow-forward-sharp"></ion-icon></span></button>
        </div>
        <div class="common_btns form_4_btns" style="display: none;">
            <button type="button" class="btn_back"><span class="icon"><ion-icon name="arrow-back-sharp"></ion-icon></span>Back</button>
            <button type="button" class="btn_done">Done</button>
        </div>
    </div>
</div>

<div class="modal_wrapper">
    <div class="shadow"></div>
    <div class="success_wrap">
        <span class="modal_icon"><ion-icon name="checkmark-sharp"></ion-icon></span>
        <p>You have successfully completed the process.</p>
    </div>
</div>

<script>
    var form_1 = document.querySelector(".form_1");
    var form_2 = document.querySelector(".form_2");
    var form_3 = document.querySelector(".form_3");
    var form_4 = document.querySelector(".form_4");


    var form_1_btns = document.querySelector(".form_1_btns");
    var form_2_btns = document.querySelector(".form_2_btns");
    var form_3_btns = document.querySelector(".form_3_btns");
    var form_4_btns = document.querySelector(".form_4_btns");


    var form_1_next_btn = document.querySelector(".form_1_btns .btn_next");
    var form_2_back_btn = document.querySelector(".form_2_btns .btn_back");
    var form_2_next_btn = document.querySelector(".form_2_btns .btn_next");
    var form_3_back_btn = document.querySelector(".form_3_btns .btn_back");
    var form_3_next_btn = document.querySelector(".form_3_btns .btn_next");
    var form_4_back_btn = document.querySelector(".form_4_btns .btn_back");

    var form_2_progessbar = document.querySelector(".form_2_progessbar");
    var form_3_progessbar = document.querySelector(".form_3_progessbar");
    var form_4_progessbar = document.querySelector(".form_4_progessbar");

    var btn_done = document.querySelector(".btn_done");
    var modal_wrapper = document.querySelector(".modal_wrapper");
    var shadow = document.querySelector(".shadow");

    form_1_next_btn.addEventListener("click", function () {
        form_1.style.display = "none";
        form_2.style.display = "block";

        form_1_btns.style.display = "none";
        form_2_btns.style.display = "flex";

        form_2_progessbar.classList.add("active");
    });

    form_2_back_btn.addEventListener("click", function () {
        form_1.style.display = "block";
        form_2.style.display = "none";

        form_1_btns.style.display = "flex";
        form_2_btns.style.display = "none";

        form_2_progessbar.classList.remove("active");
    });

    form_2_next_btn.addEventListener("click", function () {
        form_2.style.display = "none";
        form_3.style.display = "block";

        form_3_btns.style.display = "flex";
        form_2_btns.style.display = "none";

        form_3_progessbar.classList.add("active");
    });
    form_3_back_btn.addEventListener("click", function () {
        form_2.style.display = "block";
        form_3.style.display = "none";

        form_2_btns.style.display = "flex";
        form_3_btns.style.display = "none";

        form_3_progessbar.classList.remove("active");
    });

    form_3_next_btn.addEventListener("click", function () {
        form_3.style.display = "none";
        form_4.style.display = "block";

        form_4_btns.style.display = "flex";
        form_3_btns.style.display = "none";

        form_4_progessbar.classList.add("active");
    });

    form_4_back_btn.addEventListener("click", function () {
        form_3.style.display = "block";
        form_4.style.display = "none";

        form_4_btns.style.display = "none";
        form_3_btns.style.display = "flex";

        form_4_progessbar.classList.remove("active");
    });

    btn_done.addEventListener("click", function () {
        modal_wrapper.classList.add("active");
    })

    shadow.addEventListener("click", function () {
        modal_wrapper.classList.remove("active");
    })
</script>

<script>
    // Function to filter dropdown items
    function filterFunction() {
        let input = document.getElementById("searchInput");
        let filter = input.value.toUpperCase();
        let div = document.getElementById("dropdownItems");
        let a = div.getElementsByTagName("a");

        for (let i = 0; i < a.length; i++) {
            let txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            } else {
                a[i].style.display = "none";
            }
        }
    }

    // Function to add the selected test and price to the table
    function addTestToTable(testName, price) {
        let tableBody = document.getElementById("testTableBody");

        // Check if the test is already in the table (avoid duplicates)
        let existingRows = tableBody.getElementsByTagName("tr");
        for (let i = 0; i < existingRows.length; i++) {
            let existingTest = existingRows[i].getElementsByTagName("td")[0].textContent;
            if (existingTest === testName) {
                alert('This test is already added!');
                return; // Exit if test is already added
            }
        }

        // Create a new row
        let newRow = document.createElement("tr");

        // Create cells for test name, price, and remove button
        let testNameCell = document.createElement("td");
        let priceCell = document.createElement("td");
        let actionCell = document.createElement("td");

        // Set the cell values
        testNameCell.textContent = testName;
        priceCell.textContent = "$" + price;

        // Create the remove button
        let removeBtn = document.createElement("button");
        removeBtn.classList.add("remove-btn");
        removeBtn.textContent = "Remove";
        removeBtn.onclick = function () {
            removeTestFromTable(newRow); // Call the remove function
        };
        actionCell.appendChild(removeBtn);

        // Append the cells to the new row
        newRow.appendChild(testNameCell);
        newRow.appendChild(priceCell);
        newRow.appendChild(actionCell);

        // Append the new row to the table body
        tableBody.appendChild(newRow);

        // Update the total price
        updateTotalPrice();
    }

    // Function to update the total price
    function updateTotalPrice() {
        let tableBody = document.getElementById("testTableBody");
        let totalPriceElement = document.getElementById("totalPrice");
        let total = 0;

        // Loop through the table rows and sum the prices
        let rows = tableBody.getElementsByTagName("tr");
        for (let i = 0; i < rows.length; i++) {
            let priceText = rows[i].getElementsByTagName("td")[1].textContent;
            let price = parseFloat(priceText.replace("$", ""));
            total += price;
        }

        // Update the total price in the table footer
        totalPriceElement.textContent = "$" + total;
    }

    // Function to remove a test from the table
    function removeTestFromTable(row) {
        let tableBody = document.getElementById("testTableBody");
        tableBody.removeChild(row); // Remove the row from the table

        // Update the total price after removal
        updateTotalPrice();
    }
</script>
<script>
    function togglePaymentDetails(isPayPal) {
        const paypalDetails = document.getElementById("paypalDetails");

        if (isPayPal) {
            paypalDetails.style.display = "block"; // Show PayPal details if PayPal is selected
        } else {
            paypalDetails.style.display = "none";  // Hide PayPal details if Cash is selected
        }
    }
</script>

<script>
    // Get today's date in YYYY-MM-DD format
    const today = new Date().toISOString().split('T')[0];
    // Set the min attribute to today
    document.getElementById('preferred_date').setAttribute('min', today);
</script>




